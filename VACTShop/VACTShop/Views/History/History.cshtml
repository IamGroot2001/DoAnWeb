@model IEnumerable<VACTShop.Models.DONDATHANG>
@{
    ViewBag.Title = "History";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-xl history-container py-5 px-5" style="margin-top:10%; height: 700px">
    <div class="table-content table-responsive">
        <h2 class="mb-5">Lịch sử mua hàng</h2>
        <table class="table text-center">
            <thead class="border-bottom text-left">
                <tr>
                    <th>Mã đơn hàng</th>
                    <th>Ngày đặt</th>
                    <th>Ngày giao</th>
                    <th>Tổng tiền</th>
                    <th>Địa chỉ</th>
                    <th>Tình Trạng Đơn Hàng</th>
                    <th>&nbsp;</th>
                </tr>
            </thead>
            <tbody class="text-left">
                @foreach (var item in Model)
                {
                <tr>
                    <td class="bill-id">
                        @Html.DisplayFor(modelItem => item.MaDDH)
                    </td>
                    <td class="invert">
                        @String.Format("{0:dd/MM/yyyy}", item.NgayDat)
                    </td>
                    <td class="invert">
                        @String.Format("{0:dd/MM/yyyy}", item.NgayGiao)
                    </td>
                    <td class="bill-total">
                        @String.Format("{0:##,#}", item.ThanhTien) VNĐ
                    </td>
                    <td class="bill-status">
                        @Html.DisplayFor(modelItem => item.KHACHHANG.DiaChiKH)
                    </td>
                    @if ((bool)item.TinhTrangGiaoHang)
                    {
                        <td class="invert" style="color: green"><i class="fa fa-check-square-o" aria-hidden="true" style="margin-right: 5px"></i>Đã Giao hàng</td>
                    }
                    else
                    {
                        <td class="invert" style="color: #EF4444"><i class="fa fa-truck" aria-hidden="true" style="margin-right: 5px"></i>Đang Vận Chuyển</td>
                    }
                    <td class="bill-details">
                        <a href="@Url.Action("HistoryDetails","History",new {id=item.MaDDH })">View Details</a>
                    </td>
                </tr>
                }
            </tbody>
        </table>
    </div>
</div>
